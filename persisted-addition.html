<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add and Summarize Numbers</title>
</head>
<body>
    <div class="container">
        <h1>Add a Number and Summarize Them</h1>
        <p>Enter a number below. The calculator will correctly summarize the numbers.</p>
        <p><strong>Bonus improvement:</strong> Prevents adding invalid inputs.</p>
        
        <input type="text" id="numberInput" placeholder="Enter an integer">
        <button id="addButton">Add Number</button>
        
        <div class="list">
            <div id="numberList"></div>
            =
            <h3><span id="totalSum">0</span></h3>
        </div>
    </div>
<script type="module">
  import { NumberService } from './numberService.js';

  const numberInput = document.getElementById('numberInput');
  const addButton = document.getElementById('addButton');
  const numberList = document.getElementById('numberList');
  const totalSum = document.getElementById('totalSum');
  const resetButton = document.getElementById('resetButton');

  const service = new NumberService();

  function render() {
    const numbers = service.loadNumbers();
    numberList.textContent = numbers.join(' + ');
    totalSum.textContent = numbers.reduce((a, b) => a + b, 0);
  }

  addButton.addEventListener('click', () => {
    const value = numberInput.value.trim();
    if (!/^-?\d+$/.test(value)) {
      alert('Please enter a valid integer.');
      return;
    }
    service.updateNumbers(parseInt(value, 10));
    numberInput.value = '';
    render();
  });

  resetButton.addEventListener('click', () => {
    service.reset();
    render();
  });

  // Initial render
  render();
</script>


</body>
</html>